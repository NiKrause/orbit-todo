# enable production for auto-tls and add  public reachable IP (even when in docker)
NODE_ENV=production
VITE_APPEND_ANNOUNCE=/ip4/91.99.67.170/tcp/4001/p2p/12D3KooWPJYEZSwfmRL9SHehYAeQKEbCvzFu7vtKWb6jQfMSMb8W,/ip4/91.99.67.170/tcp/4002/ws/p2p/12D3KooWPJYEZSwfmRL9SHehYAeQKEbCvzFu7vtKWb6jQfMSMb8W,/dns4/91-99-67-170.k51qzi5uqu5dl6dk0zoaocksijnghdrkxir5m4yfcodish4df6re6v3wbl6njf.libp2p.direct/tcp/4002/ws/p2p/12D3KooWPJYEZSwfmRL9SHehYAeQKEbCvzFu7vtKWb6jQfMSMb8W
# Enhanced Relay server configuration
# Private Key Management:
# - In development: Use RELAY_PRIV_KEY for fixed identity (optional)
# - In production: Leave empty to use persistent auto-generated keys
# - Set NODE_ENV=development or use --dev flag for development mode
RELAY_PRIV_KEY=08011240821cb6bc3d4547fcccb513e82e4d718089f8a166b23ffcd4a436754b6b0774cf07447d1693cd10ce11ef950d7517bad6e9472b41a927cd17fc3fb23f8c70cd99
RELAY_WS_PORT=4001
RELAY_TCP_PORT=4002
RELAY_WEBRTC_PORT=4003
RELAY_WEBRTC_DIRECT_PORT=4006
HTTP_PORT=3000

# Datastore configuration
DATASTORE_PATH=./relay-datastore

# Environment-aware announce addresses (for production)
# VITE_APPEND_ANNOUNCE_DEV=/ip4/YOUR_DEV_IP/tcp/4001/ws,/ip4/YOUR_DEV_IP/tcp/4002
# VITE_APPEND_ANNOUNCE=/ip4/YOUR_PROD_IP/tcp/4001/ws,/ip4/YOUR_PROD_IP/tcp/4002

# Logging configuration
# STRUCTURED_LOGS=true
# NODE_ENV=production

# AutoTLS configuration (only works in production)
# DISABLE_AUTO_TLS=false
# STAGING=true  # Use Let's Encrypt staging directory for testing

# Browser client configuration (Alice's fixed PeerID for tests)
VITE_TEST_PEER_ID=08011240abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890

# Bob's PeerID for Node.js tests
BOB_PEER_ID=08011240123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef

# OrbitDB configuration
ORBITDB_DIRECTORY=./orbitdb
ORBITDB_KEYSTORE=./keystore

# Application ports
DEV_PORT=5173
PREVIEW_PORT=4173


# Gossipsub
GOSSIP_EMIT_SELF=true
GOSSIP_ALLOW_PUBLISH_ZERO_TOPIC=true
GOSSIP_CAN_RELAY_MESSAGE=true
GOSSIP_INCOMING=true
GOSSIP_FALLBACK_TO_FLOODSUB=true
GOSSIP_FLOOD_PUBLISH=true
GOSSIP_SCORE_GOSSIP_THRESHOLD=-Infinity
GOSSIP_SCORE_PUBLISH_THRESHOLD=-Infinity
GOSSIP_SCORE_GRAYLIST_THRESHOLD=-Infinity
GOSSIP_SCORE_ACCEPT_PX_THRESHOLD=0
GOSSIP_SCORE_OPPORTUNISTIC_GRAFT_THRESHOLD=0
GOSSIP_HEARTBEAT_INTERVAL=1000

# Relay
RELAY_HOP_TIMEOUT=30000
RELAY_MAX_RESERVATIONS=10000
RELAY_RESERVATION_TTL=7200000
RELAY_DEFAULT_DATA_LIMIT=1073741824
RELAY_DEFAULT_DURATION_LIMIT=120000
